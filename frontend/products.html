<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>Products</title>
    <link
      rel="stylesheet"
      media="screen and (min-width:900px)"
      href="css/styles.css"
    />
    <link
      rel="stylesheet"
      media="screen and (max-width:900px)"
      href="css/mobile.css"
    />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link rel="shortcut icon" href="images/favicon.jpg" />
  </head>

  <body>
    <div class="main-container">
      <h1>Products</h1>
      <p>
        Lorem ipsum dolor sit, amet consectetur adipisicing elit. Temporibus
        ducimus vitae placeat eum obcaecati! Ipsam illo mollitia vero,
        consequuntur beatae quod doloribus possimus nulla laboriosam
        voluptatibus ratione itaque ducimus commodi? Lorem ipsum, dolor sit amet
        consectetur adipisicing elit. Vitae explicabo aperiam perferendis. Rem
        eligendi vitae, earum, saepe eveniet totam quibusdam cumque harum neque
        voluptatem necessitatibus corporis error dolor pariatur molestiae? Lorem
        ipsum dolor sit amet consectetur adipisicing elit. Perspiciatis esse
        optio odio, quis rerum repellendus, soluta dolorum atque et ad iure cum
        quidem eveniet voluptas provident, hic nulla repellat quia!
      </p>

      <section id="products_list"></section>
    </div>
    <hr />
    <footer>
      <div class="copyright">Copyright &copy; 2025. ZYZ Corporation</div>
    </footer>
    <script src="js/e.js"></script>
    <script src="js/functions.js"></script>
    <script src="js/products.js"></script>
    <script>
      let dispBlock = "";
      let myProducts = products.map((item) => {
        let prod = "<div class='products'>";
        prod += "<h2>" + item.name + "</h2>";
        prod +=
          "<div><a href='product.html'><img class='prod-img' src='images/";
        prod +=
          item.image +
          "' alt='" +
          item.name +
          "' width='200' height='120'></a></div>";
        prod += "<div class='desc-title'>Description</div>";
        prod += "<p>" + item.description + "</p>";
        prod += "<div class='price'id='prod" + item.id + "_price'>$";
        let prc = item.sizes.s.price.toString();
        let prc2 = prc.split(".");
        prod += prc2[0] + "<sup>" + prc2[1] + "</sup></div>";
        prod += "<div><form method='post'>";
        prod +=
          "<button class='add-to-cart-button' type='button' onclick='addToCart(" +
          item.id +
          ")'>Add to Cart</button>";
        prod += "</form></div>";
        prod +=
          "<div class='prod-features'><div class='available-sizes'>Available Sizes</div>";
        prod +=
          "<select name='prod_size' id='prod" +
          item.id +
          "_size' onchange='updatePrice(" +
          item.id +
          ",this.value)'>";
        prod += "<option value='" + item.sizes.s.price + "'";
        prod += item.sizes.s.available ? "" : " disabled";
        prod += ">Small | ";
        prod += item.sizes.s.available ? "Available" : "(Out of Stock)";
        prod += item.sizes.s.available ? " (" + item.sizes.s.price + ")" : "";
        prod += "</option>";
        prod += "<option value='" + item.sizes.m.price + "'";
        prod += item.sizes.m.available ? "" : " disabled";
        prod += ">Medium | ";
        prod += item.sizes.m.available ? "Available" : "(Out of Stock)";
        prod += item.sizes.m.available ? " (" + item.sizes.m.price + ")" : "";
        prod += "</option>";
        prod += "<option value='" + item.sizes.l.price + "'";
        prod += item.sizes.l.available ? "" : " disabled";
        prod += ">Large | ";
        prod += item.sizes.l.available ? "Available" : "(Out of Stock)";
        prod += item.sizes.l.available ? " (" + item.sizes.l.price + ")" : "";
        prod += "</option>";
        prod += "<option value='" + item.sizes.xl.price + "'";
        prod += item.sizes.xl.available ? "" : " disabled";
        prod += ">Extra Large | ";
        prod += item.sizes.xl.available ? "Available" : "(Out of Stock)";
        prod += item.sizes.xl.available ? " (" + item.sizes.xl.price + ")" : "";
        prod += "</option>";

        prod += "</select></div>";

        prod += "</div>";
        return prod;
      });

      myProducts.forEach((element) => {
        dispBlock += element;
      });

      _("#products_list").innerHTML = dispBlock;
    </script>

    <script>
      function addToCart(ind) {
        alert("Product" + ind + " has been added to the cart");
      }
    </script>
  </body>
</html>
